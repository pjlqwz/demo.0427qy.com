<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>找回密码-响应式简洁博客网站模板</title>
<meta name="renderer" content="webkit">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<link href="/31599/favicon.ico" rel="shortcut icon" type="image/x-icon">
    <link href="static/css/basic.css" rel="stylesheet" media="screen" type="text/css">
<link href="static/css/eyoucms.css" rel="stylesheet" media="screen" type="text/css">
    
<!-- 官方内置样式表，升级会覆盖变动，请勿修改，否则后果自负 -->

<style>
/*
#ff9600rgba(255,150,0,0.8) */

    .ey-container .ey-nav ul li a:hover {
        color: #ff9600;
    }
    .ey-container .user-box .user-box-text{
        background-color:#ff9600;
    }
    .ey-container .user-box-r .user-box-top .user-top-r .more {
        color:#ff9600;
    }
    .ey-container .user-box-r .user-box-bottom .data-info .link a {
        color: #ff9600;
    }
    .ey-container .column-title .column-name {
        color: #ff9600;
    }
    a:hover {
        color: #ff9600;
    }

    .el-button--primary {
        background-color: #ff9600;
        border: 1px solid #ff9600;
    }
    .ey-container .item-from-row .err a {
        color: #ff9600;
    }
    .ey-container .checkbox-label .checkbox:checked+.check-mark {
        background-color: #ff9600;
        border: 1px solid #ff9600;
    }
    .ey-container .checkbox-label .checkbox:checked+.check-mark:after {
        background:#ff9600;
    }
    .ey-container .radio-label .radio:checked+.check-mark {
        border: 1px solid #ff9600;
        background-color: #ff9600;
    }
    .ey-container .radio-label .radio:checked+.check-mark:after {
        background: #ff9600;
    }
    .el-button--primary.is-plain {
        color: #ff9600;
        border-color: rgba(255,150,0,0.2);
        background-color:rgba(255,150,0,0.1);
    }
    .el-button--primary.is-plain:focus, .el-button--primary.is-plain:hover {
        background: #ff9600;
        border-color: #ff9600;
    }
    .el-button--primary:hover, .el-button--primary:focus {
        background: rgba(255,150,0,0.9);
        border-color: rgba(255,150,0,0.9);
        color: #fff;
    }
    .el-input-number__decrease:hover, .el-input-number__increase:hover {
        color: #ff9600;
    }
    .el-input-number__decrease:hover:not(.is-disabled)~.el-input .el-input__inner:not(.is-disabled), .el-input-number__increase:hover:not(.is-disabled)~.el-input .el-input__inner:not(.is-disabled) {
        border-color: #ff9600;
    }
    .ey-container .address-con .address-item.cur {
        border: 1px solid rgba(255,150,0,0.6);
    }
    .ey-container .address-con .address-item.cur:before {
        color: #ff9600;
        border-top: 50px solid #ff9600;
    }
    .ey-container .ey-con .shop-oper .shop-oper-l .el-button.active {
        color: #ff9600;
    }
    .ey-container .goods-con .goods-item .goods-item-r .view a {
        color: #ff9600;
    }
    .ey-container div.dataTables_paginate .paginate_button.active>a, .ey-containerdiv.dataTables_paginate .paginate_button.active>a:focus, .ey-containerdiv.dataTables_paginate .paginate_button.active>a:hover {
        background: #ff9600 !important;
        border-color: #ff9600 !important;
    }
    .ey-container .pagination>li>a:focus, .ey-container .pagination>li>a:hover, .ey-container .pagination>li>span:focus, .ey-container .pagination>li>span:hover {
        color:#ff9600;
    }
    .ey-container .pagination>li>a, .ey-container .pagination>li>span {
        color:#ff9600;
    }
    .el-button--danger {
        background-color: #ff9600;
        border-color: #ff9600;
    }
    .recharge .pc-vip-list.active {
        border: #ff9600 2px solid;
        /*background-color:rgba(255,150,0,0.1);*/
    }
    .recharge .pc-vip-list:hover {
    	border: #ff9600 2px solid;
    }
    .recharge .pc-vip-list .icon-recomd {
    	background: #ff9600;
    }
    .el-input.is-active .el-input__inner, .el-input__inner:focus {
        border-color: #ff9600;
    }
    .ey-container .address-con .selected .address-item:before {
        color:#ff9600;
        border-top: 50px solid #ff9600;
    }
    .ey-container .address-con .selected .address-item {
        border: 1px solid rgba(255,150,0,0.4);
    }
    .ey-container .pay-type .payTag a {
        color: #ff9600;
        border-bottom: 1px solid #ff9600;
    }
    .ey-container .pay-type .pay-con .pay-type-item.active {
        border-color: rgba(255,150,0,0.4);
    }
    .ey-container .pay-type .pay-con .pay-type-item.active:before {
        color: #ff9600;
        border-bottom: 30px solid #ff9600;
    }
    .ey-header-nav .nav li ul li a:hover {
        background: #ff9600;
    }
    .btn-primary {
        background-color: #ff9600;
    }
    .btn-primary.focus, .btn-primary:focus, .btn-primary:hover {
        border-color: #ff9600;
        background-color: #ff9600;
    }
    .btn-primary.active.focus, .btn-primary.active:focus, .btn-primary.active:hover, .btn-primary:active.focus, .btn-primary:active:focus, .btn-primary:active:hover, .open>.btn-primary.dropdown-toggle.focus, .open>.btn-primary.dropdown-toggle:focus, .open>.btn-primary.dropdown-toggle:hover {
    	border-color:#ff9600;
    	background-color:#ff9600;
    }
    .register_index .login_link .login_link_register {
        color: #ff9600;
    }
    
    .portal-content-box .user-card .link {
        color: #ff9600;
    }
    .portal-sub .info-list .info .num {
        color: #ff9600;
    }
    .ey-container .xin_mian .services-list li:hover .title_n a {
        color: #ff9600;
    }
    .address-list .address-action span {
        color: #ff9600;
    }
    .ey-container .ey-nav ul .active a {
        color: #ff9600;
    }
    
    .ey-container .user-pay-con .user-pay-box .item-from-row .el-input__inner {
        border: 1px solid #ff9600;
    }
    .ey-container .item-from-row .pay-type-item.active {
        border-color: rgba(255,150,0,0.4);
    }
    
    .ey-container .item-from-row .pay-type-item.active::before {
        color: #ff9600;
        border-bottom: 30px solid #ff9600;
    
    }
    .address-select-box {
        border: 1px solid #ff9600;
    }
    .address-selectd span {
        color: #ff9600;
    }
    .mi-user-favorite .xm-goods-list-wrap .xm-goods-item .price {
        color: #ff9600;
    }
    .mi-user-favorite .xm-goods-list-wrap .xm-goods-item .actions .btn-primary-xin {
        background: #ff9600;
        border-color: #ff9600;
    }
    .ey-container .ey-con .shop-oper .shop-oper-l .el-button-xin.active {
        color: #ff9600;
    }
    .comment-list .goods-list-detail .goods-list-li .goods-content .cont-r .btn2-xin {
        border: 1px solid #ff9600;
        background: #ff9600;
    }
    .cart-container .container-main .cart-wrap .cart-goods-list .col-check .icon-checkbox-selected, .cart-container .container-main .cart-wrap .cart-goods-list .col-check .check-mark {
        border-color: #ff9600;
    }
    .cart-container .container-main .cart-wrap .cart-goods-list .item-box .col-total, .cart-container .container-main .cart-wrap .cart-goods-list .item-sub-box .col-total {
        color: #ff9600;
    }
    .cart-container .container-main .cart-bar .total-price {
        color: #ff9600;
    }
    .recommend-price {
    }
    .btn-line-primary {
        border-color: #ff9600;
        color: #ff9600;
    }
    .btn-line-primary:hover {
        background-color: #ff9600;
        border-color: #ff9600;
    }
    .goods-list .good-item .good-total {
        color: #ff9600;
    }
    .checkout-detail .detail-section .section-options .options-list .selected span {
        color: #ff9600;
    }
    .checkout-detail .count-detail .section-bill .bill-item .bill-money {
        color: #ff9600;
    }
    /*消息通知标题*/
    .ey-container .xin_mian .services-list li .title_n.cur a {
        color: #ff9600;
    }
    /*个人等级*/
    .portal-content-box .user-actions .action-list .grade{
       color: #ff9600;
    }
    /*个人信息按钮*/
    .ey-container .ey-con .user-info .user-info-button{
        background: #ff9600;
        border: 1px solid #ff9600;
    }
    /*订单*/
   .ey-container .goods-con .order-list .uc-order-item-shipping {
        border-color:rgba(255,150,0,0.3);
    }
    .ey-container .goods-con .order-list .uc-order-item-shipping .order-summary{
        background-color: rgba(255,150,0,0.06);
    }
    .ey-container .goods-con .order-list .uc-order-item-shipping .order-status {
        color: #ff9600;
    }
    .ey-container .goods-con .order-list .uc-order-item-shipping .order-detail-table th {
        background:rgba(255,150,0,0.06);
        border-bottom:1px solid rgba(255,150,0,0.3);
    }
    .ey-container .order-detail.uc-order-item-pay .order-status {
        color: #ff9600;
    }
    .ey-container .order-detail.uc-order-item-shipping .order-status {
        color: #ff9600;
    }
    .service-list-item .hd {
        background:rgba(255,150,0,0.06);
        border-bottom: 1px solid rgba(255,150,0,0.3);
    }
    .service-list-item {
        border: 1px solid rgba(255,150,0,0.3);
    }
    .service-list-item .hd .status-xin{
        color: #ff9600;
    }
    .ey-container .mi-uc-box .order-detail-total .total-table td{
        color: #ff9600;
    }
    /*收货地址*/
    .address-add .input-active{
        border: 1px solid #ff9600;
    }
    .address-add .input-active .input-label{
        color: #ff9600;
    }
    .address-add .input-active.input-focus{
        border: 1px solid #ff9600;
    }
    .address-add .input-active.input-focus .input-label{
        color: #ff9600;
    }
    .mip-reg-heading .nav-item.cur{
        border-bottom-color:#ff9600;
        color: #ff9600;
    }
    .reg .checkbox-label .checkbox:checked+.check-mark {
        background-color: #ff9600;
        border-color: #ff9600;
    }
    .reg .checkbox-label .checkbox:checked+.check-mark:after {
        background: #ff9600;
    }
    .popup-login-box .row-item .button{
        background: #ff9600;
    }
    .popup-login-box .popup-footer .popup-footer-l span {
        color: #ff9600;
    }
    .popup-login-box .popup-footer .popup-footer-r a{
        color: #ff9600;
    }
    .popup-login-box .popup-footer .popup-footer-l a i{
        color: #ff9600;
    }
    .popup-login-box .login_reg .reg_t{
        color: #ff9600;
    }
    .appraise-list .item .item-r .ey-start-ment i.active {
        color: #ff9600;
    }
    .fc-colours {
        color: #ff9600 !important;
    }
</style>

<script type="text/javascript">
    var __isMobile__ = 0;
    var __root_dir__ = "/31599";
    var __version__ = "v1.7.0";
    var __lang__ = "cn";
    var eyou_basefile = "/31599/index.php";
    var GetUploadify_url = "/31599/index.php?m=user&c=Uploadify&a=upload";
    var delUploadify_url = "/31599/index.php?m=user&c=Uploadify&a=delupload";
</script>
    
    <script language="javascript" type="text/javascript" src="static/js/jquery.min.js"></script>
<!-- 引入外贸助手的语言变量包 -->
<script language="javascript" type="text/javascript" src="static/js/foreign_global.js"></script>
<script language="javascript" type="text/javascript" src="static/js/layer.js"></script>
<script language="javascript" type="text/javascript" src="static/js/global.js"></script>
</head>

<body class="reg retrieve">


<div class="register_index ey-member">
    <div class="container">
    <form name='theForm' id="theForm" class="form-register panel-body fv-form">
        <div class="mip-reg-logo"><a href="index.html" class="ey-logo"><img src="static/picture/1-211116160SR95.png"></a></div>
        <div class="mip-reg-heading"><a class="nav-item " href="javascript:void(0)" style="cursor: unset;">找回密码</a></div>
        <div class="form-group group_z">
             <input type="text" name="email" id="email" class="form-control" placeholder="邮箱地址">
        </div>

        <div class="form-group group_z">

            <div class="formText">
                <input type="text" class="form-control" id="email_code" name="email_code" placeholder="邮箱验证码">
            </div>
            <input type="button" id="email_code_button" onclick="send_email();" class="btn btn-primary sento" value="点击发送">

        </div>

        
        <button class="btn btn-lg btn-primary btn-block group_z" style="width: 100%;" onclick="check_submit();" type="button">下一步</button>
        <div class="login-link clearfix"><a class="fr tr" href="index-user_Users_login.html">返回登录</a></div>
    </form>
    </div>
</div>

<script type="text/javascript">
    $(document).keydown(function(event){
        if(event.keyCode ==13){
            check_submit();
        }
    });
    
    function fleshVerify(){
        var src = "/31599/index.php?m=api&c=Ajax&a=vertify&type=users_retrieve_password";
        if (src.indexOf('?') > -1) {
            src += '&';
        } else {
            src += '?';
        }
        src += 'r='+ Math.floor(Math.random()*100);
        $('#imgVerifys').attr('src', src);
    }

    function check_submit()
    {   
        var email = $('#email').val();
        var reg = /^[a-z0-9]([a-z0-9\\.]*[-_]{0,4}?[a-z0-9-_\\.]+)*@([a-z0-9]*[-_]?[a-z0-9]+)+([\.][\w_-]+){1,5}$/i;
        // 邮箱格式不正确
        if(!reg.test(email)){
            layer.msg('邮箱格式不正确，请正确输入邮箱地址！', {time: 1500});
            return false;
        }

        var email_code = $('#email_code').val();
        if(email_code == ''){
            layer.msg('邮箱验证码不能为空', {time: 1000});
            return false;
        }

        layer_loading('正在处理');
        $.ajax({
            // async:false,
            url: "/31599/index.php?m=user&c=Users&a=retrieve_password",
            data: $('#theForm').serialize(),
            type:'post',
            dataType:'json',
            success:function(res){
                layer.closeAll();
                if (res.code == 1) {
                    window.location.href = res.url;
                } else {
                    layer.msg(res.msg, {time: 2000, icon: 5});
                }
            },
            error : function(e) {
                layer.closeAll();
                showErrorAlert(e.responseText);
            }
        });
    };

    function send_email(email){
        var email = $('#email').val();
        var reg = /^[a-z0-9]([a-z0-9\\.]*[-_]{0,4}?[a-z0-9-_\\.]+)*@([a-z0-9]*[-_]?[a-z0-9]+)+([\.][\w_-]+){1,5}$/i;
        // 邮箱格式不正确
        if(!reg.test(email)){
            layer.msg('邮箱格式不正确，请正确输入邮箱地址！', {time: 1500});
            return false;
        }

        $("#email_code_button").val('发送中…');
        $("#email_code_button").attr('disabled', 'disabled');
        layer_loading('正在处理');
        $.ajax({
            url: "/31599/index.php?m=user&c=Smtpmail&a=send_email",
            data: {email:email,title:'找回密码',type:'retrieve_password',scene:4},
            type:'post',
            dataType:'json',
            success:function(res){
                layer.closeAll();
                if(res.code == 1){
                    countdown();
                    layer.msg(res.msg, {time: 1000});
                }else{
                    $("#email_code_button").val('点击发送');
                    $("#email_code_button").removeAttr("disabled");
                    showErrorAlert(res.msg);
                }
            },
            error : function(e) {
                layer.closeAll();
                $("#email_code_button").val('点击发送');
                $("#email_code_button").removeAttr("disabled");
                showErrorAlert(e.responseText);
            }
        });
    };

    function countdown(){
        // 倒计时
        var setTime;
        var time = 120;
        setTime = setInterval(function(){
            if(0 >= time){
                clearInterval(setTime);
                return;
            }
            time--;
            $("#email_code_button").val(time+'秒');
            $("#email_code_button").attr('disabled', 'disabled');

            if(time == 0){
                $("#email_code_button").val('点击发送');
                $("#email_code_button").removeAttr("disabled");
            }
        },1000);
    }
</script>

<script type="text/javascript" src="static/js/ey_global.js"></script>
<script type='text/javascript' src='static/js/tag_global.js'></script>
<script type="text/javascript">var root_dir="/31599"; var ey_aid=0;</script>
<script type="text/javascript" src="static/js/ey_footer.js"></script>
</body>
</html>